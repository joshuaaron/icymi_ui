---
interface Props {
  top?: number;
  right?: number;
  bottom?: number;
  left?: number;
}

const { top = 80, right = 120, bottom = 180, left = 90 } = Astro.props;
---

<div
  class="inset-diagram"
  style={`--inset-top: ${top}px; --inset-right: ${right}px; --inset-bottom: ${bottom}px; --inset-left: ${left}px;`}
>
  <div class="containing-block">
    <span class="parent">.parent</span>
    <span class="cb-label">containing block</span>

    <!-- Measurement lines -->
    <div class="measure measure-top">
      <span class="line"></span>
      <span class="value">{top}px</span>
    </div>
    <div class="measure measure-right">
      <span class="line"></span>
      <span class="value">{right}px</span>
    </div>
    <div class="measure measure-bottom">
      <span class="line"></span>
      <span class="value">{bottom}px</span>
    </div>
    <div class="measure measure-left">
      <span class="line"></span>
      <span class="value">{left}px</span>
    </div>

    <!-- Inset-modified containing block -->
    <div class="imcb">
      <span class="child">.child</span>
      <span class="imcb-label">inset-modified containing block</span>
    </div>
  </div>
</div>

<style>
  .inset-diagram {
    font-family: monospace;
    font-size: 0.875rem;
  }

  .containing-block {
    position: relative;
    background: var(--demo-block-bg);
    border: 2px solid var(--shade-dark);
    border-radius: 4px;
    padding: var(--inset-top) var(--inset-right) var(--inset-bottom) var(--inset-left);
    min-width: 400px;
    min-height: 300px;
  }

  .parent,
  .child {
    position: absolute;
    color: var(--shade-dark);
    /* font-size: 12px; */
    top: 5px;
    left: 5px;
  }

  .cb-label {
    position: absolute;
    bottom: 0.75rem;
    left: 1rem;
    color: var(--shade-dark);
  }

  .imcb {
    position: relative;
    background: var(--imcb);
    border: 2px solid var(--shade-dark);
    border-radius: 16px;
    height: 100%;
    min-height: 150px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .imcb-label {
    color: var(--shade-dark);
  }

  /* Measurement lines */
  .measure {
    position: absolute;
    display: flex;
    align-items: center;
    color: var(--shade-dark);
  }

  .measure .line {
    border: 1px dashed var(--shade-dark);
  }

  .measure .value {
    background: var(--demo-block-bg);
    padding: 0 0.25rem;
  }

  /* Top measurement */
  .measure-top {
    top: 0;
    left: 50%;
    flex-direction: column;
    height: var(--inset-top);
    translate: -50% 0;
  }

  .measure-top .line {
    height: 100%;
    width: 0;
  }

  .measure-top .value {
    position: absolute;
    top: 0;
    translate: 0 -50%;
  }

  /* Bottom measurement */
  .measure-bottom {
    bottom: 0;
    left: 50%;
    flex-direction: column;
    height: var(--inset-bottom);
    translate: -50% 0;
  }

  .measure-bottom .line {
    height: 100%;
    width: 0;
  }

  .measure-bottom .value {
    position: absolute;
    bottom: 0;
    translate: 0 50%;
  }

  /* Left measurement */
  .measure-left {
    left: 0;
    top: 50%;
    width: var(--inset-left);
    translate: 0 -50%;
  }

  .measure-left .line {
    width: 100%;
    height: 0;
  }

  .measure-left .value {
    position: absolute;
    left: 0;
    translate: -50% 0;
  }

  /* Right measurement */
  .measure-right {
    right: 0;
    top: 50%;
    width: var(--inset-right);
    translate: 0 -50%;
  }

  .measure-right .line {
    width: 100%;
    height: 0;
  }

  .measure-right .value {
    position: absolute;
    right: 0;
    translate: 50% 0;
  }
</style>
